# 迪米特法则

#### 1. 最少知道原则 LKP（Least Knowledge Principle）

#### 2. 问题来源

类与类之间的关系越密切，耦合度越大，当一个类发生改变时，对另一个类的影响也越大

#### 3. 解决方案

降低类与类之间的**耦合度**

#### 4. 方式

自从我们接触编程开始，就知道了软件编程的总的原则：低耦合，高内聚。无论是面向过程编程还是面向对象编程，只有使各个模块之间的耦合尽量的低，才能提高代码的复用率。低耦合的优点不言而喻，但是怎么样编程才能做到低耦合呢？那正是迪米特法则要去完成的。

迪米特法则又叫最少知道原则，最早是在1987年由美国Northeastern University的Ian Holland提出。通俗的来讲，就是一个类对自己依赖的类知道的越少越好。也就是说，对于被依赖的类来说，无论逻辑多么复杂，都尽量地的将逻辑封装在类的内部，对外除了提供的public方法，不对外泄漏任何信息。迪米特法则还有一个更简单的定义：只与直接的朋友通信。首先来解释一下什么是直接的朋友：每个对象都会与其他对象有耦合关系，只要两个对象之间有耦合关系，我们就说这两个对象之间是朋友关系。耦合的方式很多，依赖、关联、组合、聚合等。其中，我们称出现成员变量、方法参数、方法返回值中的类为直接的朋友，而出现在局部变量中的类则不是直接的朋友。也就是说，陌生的类最好不要作为局部变量的形式出现在类的内部。

#### 5. UML类与类之间的基本关系

 - 依赖关系（Dependence）
   - **虚线单箭头指向依赖方向**
   - A类变换引起B类的变化， B依赖于A。
   - 人 依赖于 车
   - 依赖情况
     * 1. A类是B类中的（某中方法的）局部变量；
	 * 2.A类是B类方法当中的一个参数；
	 * 3.A类向B类发送消息，从而影响B类发生变化；
 - 泛化关系（Generalization）
   - A是B和C的父类，B,C具有公共类（父类）A，说明A是B,C的一般化（概括，也称泛化）
   - 泛化关系(Generalization)也就是继承关系，也称为“is-a-kind-of”关系
   - 泛化关系用于描述父类与子类之间的关系，父类又称作基类或超类，子类又称作派生类。在UML中，泛化关系用带**空心三角形的实线**来表示。

 - 关联关系(Association)
	- 客户和订单，每个订单对应特定的客户，每个客户对应一些特定的订单
	- 1对1， N对N
	- 双向关联
	  - **实线**
	- 单向关联
	  - **实现箭头**
	- 自关联
	  - 单链表的 node

 - 聚合关系（Aggregation）
   - 聚合关系（Aggregation）:表示的是整体和部分的关系，整体与部分 可以分开.
   - 在聚合关系中，成员类是整体类的一部分，即成员对象是整体对象的一部分，但是成员对象可以脱离整体对象独立存在。
   - 在UML中，聚合关系用带空心菱形的直线表示。 
 - 组合关系(Composition)
	- 整体与部分的关系，但是整体与部分不可以分开(TFBOYS组合不能分开，分开会死)
	- 组合关系中部分和整体具有统一的生存期。一旦整体对象不存在，部分对象也将不存在，部分对象与整体对象之间具有同生共死的关系。
	- 在UML中，组合关系用带实心菱形的直线表示。
